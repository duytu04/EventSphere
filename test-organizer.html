<!DOCTYPE html>
<html>
<head>
    <title>Test Organizer Access</title>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode@4.0.0/build/jwt-decode.min.js"></script>
</head>
<body>
    <h1>Test Organizer Access</h1>
    <div id="result"></div>
    
    <script>
        // Test JWT token
        const token = "eyJhbGciOiJIUzUxMiJ9.eyJhdXRob3JpdGllcyI6WyJST0xFX09SR0FOSVpFUiIsIlJPTEVfVVNFUiJdLCJzdWIiOiJvcmdhbml6ZXJAZXZlbnRzcGhlcmUuY29tIiwiaWF0IjoxNzU5MDgxMzA5LCJleHAiOjE3NTkxNjc3MDl9.6AkqKqyxSpgXheqmUQ0zA49yku7RtCzE8Pvs8aNcK8RxNk7dznQIAYIIIUJPxEe7aiHZGvLbrwe4bd2dVeJCmA";
        
        try {
            const decoded = jwt_decode(token);
            console.log("Decoded JWT:", decoded);
            
            const authorities = decoded.authorities || [];
            console.log("Authorities:", authorities);
            
            const hasOrganizer = authorities.includes("ROLE_ORGANIZER");
            const hasUser = authorities.includes("ROLE_USER");
            
            document.getElementById("result").innerHTML = `
                <p><strong>JWT Decoded:</strong></p>
                <pre>${JSON.stringify(decoded, null, 2)}</pre>
                <p><strong>Authorities:</strong> ${authorities.join(", ")}</p>
                <p><strong>Has ORGANIZER:</strong> ${hasOrganizer}</p>
                <p><strong>Has USER:</strong> ${hasUser}</p>
                <p><strong>hasRole("ORGANIZER"):</strong> ${authorities.includes("ORGANIZER") || authorities.includes("ROLE_ORGANIZER")}</p>
            `;
        } catch (error) {
            console.error("JWT decode error:", error);
            document.getElementById("result").innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
        }
    </script>
</body>
</html>

